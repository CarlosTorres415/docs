<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Flashbots Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Flashbots Docs Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Flashbots Docs" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">upgrade process | Flashbots Docs</title><meta data-react-helmet="true" property="og:url" content="https://docs.flashbots.net/flashbots-auction/upgrade-process"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="upgrade process | Flashbots Docs"><meta data-react-helmet="true" name="description" content="Flashbots Auction project encompasses the suite of user facing products used for democratizing MEV extraction outlined in the overview section."><meta data-react-helmet="true" property="og:description" content="Flashbots Auction project encompasses the suite of user facing products used for democratizing MEV extraction outlined in the overview section."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.flashbots.net/flashbots-auction/upgrade-process"><link data-react-helmet="true" rel="alternate" href="https://docs.flashbots.net/flashbots-auction/upgrade-process" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.flashbots.net/flashbots-auction/upgrade-process" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.3ebe4b5e.css">
<link rel="preload" href="/assets/js/styles.2159608c.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.4243c76c.js" as="script">
<link rel="preload" href="/assets/js/main.05bedf1c.js" as="script">
<link rel="preload" href="/assets/js/1.38c3a7ea.js" as="script">
<link rel="preload" href="/assets/js/2.91fce330.js" as="script">
<link rel="preload" href="/assets/js/56.e44f6f4e.js" as="script">
<link rel="preload" href="/assets/js/59.52cdafe0.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.9ac4200a.js" as="script">
<link rel="preload" href="/assets/js/17896441.cb8506b3.js" as="script">
<link rel="preload" href="/assets/js/a56d660c.8bd26a33.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Flashbots Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Flashbots Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Flashbots Docs</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/flashbots/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Flashbots Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Flashbots Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Flashbots Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/flashbots/docs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">welcome to flashbots</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">flashbots auction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/flashbots-auction/overview">overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/flashbots-auction/upgrade-process">upgrade process</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">for searchers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/quick-start">quick start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/faq">FAQ</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">advanced concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/advanced/understanding-bundles">understanding bundles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/advanced/coinbase-payment">coinbase.transfer()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/advanced/bundle-pricing">bundle pricing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/advanced/rpc-endpoint">RPC endpoint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/advanced/reputation">searcher reputation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/advanced/goerli-testnet">goerli testnet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/advanced/eip1559">eip-1559 support</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">example searchers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/example-searchers/simple-arbitrage-bot">simple arbitrage bot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/example-searchers/searcher-sponsored-tx">searcher sponsored tx</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">libraries</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/libraries/golang">golang provider</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/libraries/ethers-js-provider">ethers.js provider</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/searchers/libraries/web3py-provider">web3.py provider</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/other-resources">other resources</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">for miners &amp; mining pools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/quick-start">onboarding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/how-it-works">how it works?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/discord-setup">discord setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/faq">FAQ</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">advanced concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/advanced/source-code">source code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/advanced/interacting-with-relay">interacting with relay</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">mev-geth spec</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/mev-geth-spec/v04">v0.4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/mev-geth-spec/v04-rpc">v0.4 RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/mev-geth-spec/v03">v0.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/mev-geth-spec/v03-rpc">v0.3 RPC (current)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/mev-geth-spec/v02">v0.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/mev-geth-spec/v02-rpc">v0.2 RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/mev-geth-spec/v01">v0.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/miners/mev-geth-spec/v01-rpc">v0.1 RPC</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">releases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/releases/alpha-v0.4">alpha-v0.4 (testing)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/releases/alpha-v0.3">alpha-v0.3 (current)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-auction/releases/alpha-v0.2">alpha-v0.2</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">flashbots data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-data/blockapi">mev-blocks API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-data/mev-explore">mev-explore</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-data/dashboard">flashbots dashboard</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">mev-inspect</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-data/mev-inspect-rs/inspect-quick-start">quick start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-data/mev-inspect-rs/inspect-codebase-design">codebase - design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-data/mev-inspect-rs/inspect-codebase-deep-dive">codebase - deep dive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/flashbots-data/mev-inspect-rs/inspect-inspector-example">sample flow - liquidation tx</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/community-tools">community tools</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">contribute</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/contribution-guide">docs contribution guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cheatsheet">cheatsheet</a></li></ul></li><li class="menu__list-item"><a href="https://discord.gg/7hvTycdNcK" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN">Discord</a></li><li class="menu__list-item"><a href="https://github.com/flashbots/docs" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN">GitHub</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">upgrade process</h1></header><div class="markdown"><p>Flashbots Auction project encompasses the suite of user facing products used for democratizing MEV extraction outlined in the overview section.</p><p>Breaking changes to these products requires coordination with searchers and miners to update their bot / node implementations. As such, we&#x27;ve devised the following high level upgrade process to set expectations, standardize communications, and provide sufficient time for 3rd parties to update their software.</p><ol><li>Feature selection process</li><li>Formal specification and reference implementation</li><li>Versioned deployment and testing</li><li>Monitoring continuing performance</li></ol><p>We do not make any commitments around how frequently / quickly these upgrades will happen as we wish to maintain flexibility during the Flashbots Alpha (v0.x.x). That being said, we will do our best to provide adequate information and time to adapt to critical changes.</p><p><img alt="Flashbots Auction Upgrades" src="/assets/images/gant-chart-upgrade-1bb3edc53dff335c3fa426621ed0c930.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="feature-selection-process"></a>Feature selection process<a class="hash-link" href="#feature-selection-process" title="Direct link to heading">#</a></h2><p>The goal of the feature selection process is to surface feature requests from the community and collaborate on implementation.</p><p>Product Manager (PM): @thegostep</p><ol><li>Feature requests are submitted by anyone to the <a href="https://github.com/flashbots/pm/discussions" target="_blank" rel="noopener noreferrer">flashbots forum</a> and titled &#x27;Feature request:&#x27;</li><li>The PM is responsible for engaging and moderating the forums</li><li>The PM updates the <a href="https://github.com/orgs/flashbots/projects/6" target="_blank" rel="noopener noreferrer">&#x27;core releases&#x27; project board</a> to keep track of feature requests and assigns them to target releases</li><li>The PM produces a proposal that outlines the details of modifications to the flashbots auction infrastructure</li><li>The proposal is posted to <a href="https://github.com/flashbots/pm/discussions/categories/general" target="_blank" rel="noopener noreferrer">&#x27;General&#x27; forum</a> and shared with the community for feedback</li><li>Feedback is incorporated into the formal specification</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="formal-specification-and-reference-implementation"></a>Formal specification and reference implementation<a class="hash-link" href="#formal-specification-and-reference-implementation" title="Direct link to heading">#</a></h2><p>We&#x27;ve learned that despite maintaining a reference implementation of mev-geth, miners tend to re-implement our feature set on their own custom nodes. This has lead to some confusion around what are &quot;required&quot; vs &quot;nice to have&quot; features as well as bugs which have lead to unexpected behaviors like mining unprofitable / reverting bundles.</p><p>By producing a formal specification and updating it on each release, we aim to provide a document that clearly outlines the expected behavior of the node implementation and use it to grant / withhold access to the relay.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="versioned-deployment-and-testing"></a>Versioned deployment and testing<a class="hash-link" href="#versioned-deployment-and-testing" title="Direct link to heading">#</a></h2><p>To provide the best possible availability and correctness guarantees to the Flashbots Network, we aim to perform upgrades in a way that minimizes disruptions. This involves a &#x27;rolling&#x27; upgrade process where searchers can define which version of Flashbots Auction they are targeting.</p><p>At a selected block height, the relay will route all searcher bundles exclusively to the nodes that have implemented the new specification. A searcher desiring to remain on a previous version may do so by <a href="https://github.com/flashbots/mev-relay-js/issues/37" target="_blank" rel="noopener noreferrer">specifying the target version</a> until a predetermined deprecation block height where the old version will no longer be supported by the relay.</p><p>Miners will want to begin implementing the changes required as soon as the updated specification is released in order to be ready for the upgrade block height. Once the miner&#x27;s implementation is ready, they can request to undergo our suite of correctness tests which once successfully passed, will allow them to begin receiving bundles on the new system version.</p><p>These tests involve receiving and mining a series of bundles on a test environment which can be analyzed by the flashbots team. The tests will cover a range of known edge cases including but not limited to:</p><ul><li>logic testing<ul><li>block formation / ordering</li><li>bundle prioritization</li><li>bundle atomicity</li></ul></li><li>probabilistic testing<ul><li>custom profit switcher</li><li>latency and delays</li><li>mempool volume</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="monitoring-continuing-performance"></a>Monitoring continuing performance<a class="hash-link" href="#monitoring-continuing-performance" title="Direct link to heading">#</a></h2><p>While passing the test suite helps identify and correct some logical errors, it will not be able to catch everything which can go wrong on the mining side. As such, the Flashbots Auction team has built a series of monitoring tools which analyses mined flashbots blocks for correctness and profitability in order to help miners insure their infrastructure is behaving as expected. If unexpected behavior is identified, like mining bundles which did not go through the relay or producing incorrect blocks, Flashbots will temporarily disable sending the bundles to the miner and provide the technical support required to resolve the issues at hand.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/flashbots-auction/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/flashbots-auction/searchers/quick-start"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">quick start Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#feature-selection-process" class="table-of-contents__link">Feature selection process</a></li><li><a href="#formal-specification-and-reference-implementation" class="table-of-contents__link">Formal specification and reference implementation</a></li><li><a href="#versioned-deployment-and-testing" class="table-of-contents__link">Versioned deployment and testing</a></li><li><a href="#monitoring-continuing-performance" class="table-of-contents__link">Monitoring continuing performance</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/styles.2159608c.js"></script>
<script src="/assets/js/runtime~main.4243c76c.js"></script>
<script src="/assets/js/main.05bedf1c.js"></script>
<script src="/assets/js/1.38c3a7ea.js"></script>
<script src="/assets/js/2.91fce330.js"></script>
<script src="/assets/js/56.e44f6f4e.js"></script>
<script src="/assets/js/59.52cdafe0.js"></script>
<script src="/assets/js/935f2afb.9ac4200a.js"></script>
<script src="/assets/js/17896441.cb8506b3.js"></script>
<script src="/assets/js/a56d660c.8bd26a33.js"></script>
</body>
</html>